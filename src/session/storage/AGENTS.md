# AGENTS.md

> Generated by `scripts/manageAgents.js` (manual entry (src/session/storage)). Edit `agents.config.json` to update this file.

## Session storage adapters

**Scope:** Persistent storage implementations that back session state in src/session/storage/.

### Instructions

1. Ensure each adapter honors the contract exported by `index.ts`, including atomic writes and deterministic failure semantics.
2. Prefer streaming or chunked operations when reading large payloads to avoid blocking the JS event loop.
3. Provide graceful fallbacks for unsupported platforms (e.g., omit SQLite on web) and surface actionable error messages.
4. Write integration-style Jest tests that simulate common persistence scenarios using temporary directories or in-memory mocks.
5. Document migration procedures within the module when storage schemas evolve.

### Notes

- When adding native-backed adapters, ensure platform entitlements and permissions are captured in docs/ along with build steps.
- Avoid leaking implementation-specific exceptions; translate them to the shared error vocabulary exposed to session consumers.
