# AGENTS.md
> Generated by `scripts/manageAgents.js` (manual entry (src/session)). Edit `agents.config.json` to update this file.

## Session management guidance

**Scope:** Session lifecycle orchestration, persistence, and history management code under src/session/.

### Instructions
1. Keep serialization logic backward compatible; introduce explicit version gates in `serialization.ts` when schema changes are required.
2. Record meaningful analytics or diagnostics events for significant session state transitions while avoiding sensitive data exposure.
3. Model domain entities with dedicated TypeScript types in `models.ts` and re-export them through the package index for reuse.
4. Guarantee storage adapters remain interchangeable by adhering to the shared interface defined in `storage/index.ts`.
5. Accompany new functionality with Jest tests under `src/session/__tests__/` or a closer nested test directory covering success and failure modes.

### Notes
- When integrating with external services, wrap I/O with cancellation-aware utilities to keep session teardown responsive.
- Use dependency injection for clock or network abstractions to facilitate deterministic simulations.

